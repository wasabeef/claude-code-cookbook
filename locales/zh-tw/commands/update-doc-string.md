## æ›´æ–°æ–‡æª”å­—ç¬¦ä¸²

ç³»çµ±åœ°ç®¡ç†å¤šèªè¨€çš„ docstring/æ³¨é‡‹ï¼Œç¶­è­·é«˜è³ªé‡çš„æ–‡æª”ã€‚

### ä½¿ç”¨æ–¹æ³•

```bash
# è‡ªå‹•æª¢æ¸¬èªè¨€ä¸¦åŸ·è¡Œ
ã€Œç‚ºæ²¡æœ‰ docstring çš„é¡å’Œå‡½æ•¸æ·»åŠ æ³¨é‡‹ï¼Œä¸¦æ›´æ–°ä¸ç¬¦åˆæ¨™æº–çš„æ³¨é‡‹ã€

# æŒ‡å®šèªè¨€åŸ·è¡Œ
/update-doc-string --lang python
ã€ŒæŒ‰ç…§ PEP 257 è¦ç¯„æ›´æ–° Python æ–‡ä»¶çš„ docstringã€

# ç‰¹å®šç›®éŒ„çš„æ–‡æª”æ•´ç†
ã€Œç‚º src/components/ ä¸‹çš„å‡½æ•¸æ·»åŠ  JSDocã€
```

### é¸é …

- `--lang <en|zh-tw>` : æ–‡æª”è¨˜è¿°èªè¨€(é»˜èªï¼šå¾ç¾æœ‰æ³¨é‡‹è‡ªå‹•åˆ¤å®šï¼Œç„¡å‰‡ç‚º en)
- `--style <é¢¨æ ¼>` : æŒ‡å®šæ–‡æª”é¢¨æ ¼(æœ‰èªè¨€ç‰¹å®šçš„é»˜èªå€¼)
- `--marker <true|false>` : æ˜¯å¦æ·»åŠ  Claude æ¨™è¨˜(é»˜èªï¼štrue)

### åŸºæœ¬ç¤ºä¾‹

```bash
# 1. åˆ†æç›®æ¨™æ–‡ä»¶(è‡ªå‹•æª¢æ¸¬ç·¨ç¨‹èªè¨€)
find . -type f \( -name "*.py" -o -name "*.js" -o -name "*.ts" -o -name "*.dart" -o -name "*.go" -o -name "*.rs" \) | grep -v test
ã€Œè­˜åˆ¥ç¼ºå°‘ docstring çš„å…ƒç´ (æ³¨é‡‹è¡Œæ•¸ç‚º 0 æˆ–å°‘äº 30 å€‹å­—ç¬¦)ã€

# 2. æ·»åŠ æ–‡æª”(è‡ªå‹•åˆ¤å®šèªè¨€)
ã€Œç‚ºè­˜åˆ¥çš„å…ƒç´ æ·»åŠ åŒ…å«èªè¨€ç‰¹å®šå¿…è¦å…ƒç´ çš„ docstringã€
# â†’ å¦‚æœç¾æœ‰æ³¨é‡‹ä¸­æœ‰ä¸­æ–‡å‰‡ç”¨ä¸­æ–‡ï¼Œå¦å‰‡ç”¨è‹±æ–‡

# 3. æ·»åŠ æ–‡æª”(æ˜ç¢ºæŒ‡å®šè‹±æ–‡)
/update-doc-string --lang en
ã€ŒAdd docstrings with required elements to the identified elementsã€

# 4. ç¢ºèªæ¨™è¨˜
ã€Œç¢ºèªæ‰€æœ‰æ·»åŠ æˆ–æ›´æ–°çš„ docstring éƒ½æœ‰ Claude æ¨™è¨˜ã€
```

### åŸ·è¡Œæ­¥éª¤

#### 1. ç›®æ¨™å…ƒç´ çš„å„ªå…ˆç´š

1. ğŸ”´ **æœ€å„ªå…ˆ**: æ²¡æœ‰ docstring/æ³¨é‡‹çš„å…ƒç´ (æ³¨é‡‹è¡Œæ•¸ç‚º 0)
2. ğŸŸ¡ **æ¬¡å„ªå…ˆ**: ä¸ç¬¦åˆæ¨™æº–çš„å…ƒç´ (å°‘äº 30 å€‹å­—ç¬¦æˆ–ç¼ºå°‘å¿…è¦å…ƒç´ )
3. ğŸŸ¢ **ç¢ºèªå°è±¡**: æ²¡æœ‰ Claude æ¨™è¨˜çš„ç¾æœ‰æ³¨é‡‹

**ç›®æ¨™å…ƒç´ (é€šç”¨)**ï¼š

- Class/é¡å®šç¾©
- Function/å‡½æ•¸å’Œæ–¹æ³•
- Module/æ¨¡å¡Š(Python, Go)
- Enum/æšèˆ‰é¡å‹
- Interface/æ¥å£(TypeScript, Go)

#### 2. èªè¨€ç‰¹å®šç·¨å¯«è¦å‰‡

**Python (PEP 257)**ï¼š

```python
# ä¸­æ–‡ç‰ˆ(é»˜èª)
def calculate_total(items: List[Item]) -> float:
    """è¨ˆç®—å•†å“åˆ—è¡¨çš„ç¸½é‡‘é¢ã€‚(30-60 å€‹å­—ç¬¦)

    å°‡æ¯å€‹å•†å“çš„åƒ¹æ ¼å’Œæ•¸é‡ç›¸ä¹˜ï¼Œè¿”å›å«ç¨ç¸½é¢ã€‚
    ç©ºåˆ—è¡¨æ™‚è¿”å› 0.0ã€‚(50-200 å€‹å­—ç¬¦)

    Args:
        items: è¦è¨ˆç®—çš„å•†å“åˆ—è¡¨

    Returns:
        å«ç¨ç¸½é‡‘é¢

    Generated by Claude ğŸ¤–
    """

# è‹±æ–‡ç‰ˆ(--lang en)
def calculate_total(items: List[Item]) -> float:
    """Calculate the total amount for a list of items. (30-60 chars)

    Multiplies the price and quantity of each item and returns
    the total with tax. Returns 0.0 for empty lists. (50-200 chars)

    Args:
        items: List of items to calculate

    Returns:
        Total amount with tax

    Generated by Claude ğŸ¤–
    """
```

**JavaScript/TypeScript (JSDoc)**ï¼š

```javascript
/**
 * é¡¯ç¤ºç”¨æˆ¶å€‹äººè³‡æ–™çš„çµ„ä»¶ã€‚(30-60 å€‹å­—ç¬¦)
 *
 * é¡¯ç¤ºå¤´åƒåœ–ç‰‡ã€ç”¨æˆ¶åå’Œç‹€æ…‹è³‡è¨Šï¼Œ
 * é»æ“Šæ™‚è·³è½‰åˆ°å€‹äººè³‡æ–™è©³æƒ…é¡µé¢ã€‚(50-200 å€‹å­—ç¬¦)
 *
 * @param {Object} props - çµ„ä»¶å±æ€§
 * @param {string} props.userId - ç”¨æˆ¶ ID
 * @param {boolean} [props.showStatus=true] - ç‹€æ…‹é¡¯ç¤ºæ¨™èªŒ
 * @returns {JSX.Element} æ¸²æŸ“çš„çµ„ä»¶
 *
 * @generated by Claude ğŸ¤–
 */
const UserProfile = ({ userId, showStatus = true }) => {
```

**Go**ï¼š

```go
// CalculateTotal è¨ˆç®—å•†å“åˆ—è¡¨çš„ç¸½é‡‘é¢ã€‚(30-60 å€‹å­—ç¬¦)
//
// å°‡æ¯å€‹å•†å“çš„åƒ¹æ ¼å’Œæ•¸é‡ç›¸ä¹˜ï¼Œè¿”å›å«ç¨ç¸½é¢ã€‚
// ç©ºåˆ‡ç‰‡æ™‚è¿”å› 0.0ã€‚(50-200 å€‹å­—ç¬¦)
//
// Generated by Claude ğŸ¤–
func CalculateTotal(items []Item) float64 {
```

**Rust**ï¼š

```rust
/// è¨ˆç®—å•†å“åˆ—è¡¨çš„ç¸½é‡‘é¢ã€‚(30-60 å€‹å­—ç¬¦)
///
/// å°‡æ¯å€‹å•†å“çš„åƒ¹æ ¼å’Œæ•¸é‡ç›¸ä¹˜ï¼Œè¿”å›å«ç¨ç¸½é¢ã€‚
/// ç©ºå‘é‡æ™‚è¿”å› 0.0ã€‚(50-200 å€‹å­—ç¬¦)
///
/// Generated by Claude ğŸ¤–
pub fn calculate_total(items: &[Item]) -> f64 {
```

**Dart (DartDoc)**ï¼š

```dart
/// é¡¯ç¤ºç”¨æˆ¶å€‹äººè³‡æ–™çš„ Widgetã€‚(30-60 å€‹å­—ç¬¦)
///
/// å‚ç›´æ’åˆ—å¤´åƒåœ–ç‰‡ã€ç”¨æˆ¶åå’Œç‹€æ…‹è³‡è¨Šï¼Œ
/// é»æ“Šæ™‚è·³è½‰åˆ°å€‹äººè³‡æ–™è©³æƒ…é¡µé¢ã€‚(50-200 å€‹å­—ç¬¦)
///
/// Generated by Claude ğŸ¤–
class UserProfileWidget extends StatelessWidget {
```

#### 3. ç¾æœ‰å…§å®¹ä¿ç•™è¦å‰‡

1. **ç¾æœ‰æ³¨é‡‹ç¬¦åˆæ¨™æº–æ™‚**: ä¿æŒåŸæ¨£(ä¸æ–°å¢)
   - æ¨™æº–ï¼š30 å€‹å­—ç¬¦ä»¥ä¸Šä¸”åŒ…å«å¿…è¦å…ƒç´ (æ¦‚è¦ã€è©³ç»†ã€æ¨™è¨˜)
2. **ç¾æœ‰æ³¨é‡‹ä¸ç¬¦åˆæ¨™æº–æ™‚**: å®Œå…¨æ›¿æ›(ä¸é‡å¾©)
3. **æ²¡æœ‰ç¾æœ‰æ³¨é‡‹æ™‚**: æ·»åŠ æ–°æ³¨é‡‹

**æ‡‰ä¿ç•™çš„é‡è¦è³‡è¨Š**ï¼š

- URL å’Œéˆæ¥ï¼š`See also:`ã€`@see`ã€`åƒç…§:` ç­‰
- TODO æ³¨é‡‹ï¼š`TODO:`ã€`FIXME:`ã€`XXX:` æ ¼å¼
- æ³¨æ„äº‹é …ï¼š`Note:`ã€`Warning:`ã€`æ³¨æ„:` ç­‰
- ä½¿ç”¨ç¤ºä¾‹ï¼š`Example:`ã€`ä¾‹:`ã€`# Examples` ç­‰
- ç¾æœ‰çš„åƒæ•¸å’Œè¿”å›å€¼èªªæ˜

### èªè¨€ç‰¹å®šè¨­ç½®

```yaml
# èªè¨€ç‰¹å®šé»˜èªè¨­ç½®
languages:
  python:
    style: "google"  # google, numpy, sphinx
    indent: 4
    quotes: '"""'

  javascript:
    style: "jsdoc"
    indent: 2
    prefix: "/**"
    suffix: "*/"

  typescript:
    style: "tsdoc"
    indent: 2
    prefix: "/**"
    suffix: "*/"

  go:
    style: "godoc"
    indent: 0
    prefix: "//"

  rust:
    style: "rustdoc"
    indent: 0
    prefix: "///"

  dart:
    style: "dartdoc"
    indent: 0
    prefix: "///"
```

### è³ªé‡æª¢æŸ¥æ¸…å–®

- âœ… **å­—ç¬¦æ•¸**: ä¸¥æ ¼éµå®ˆæ¦‚è¦ 30-60 å€‹å­—ç¬¦ã€è©³ç»† 50-200 å€‹å­—ç¬¦
- âœ… **å¿…è¦å…ƒç´ **: å¿…é¡»åŒ…å«æ¦‚è¦ã€è©³ç»†èªªæ˜ã€Claude æ¨™è¨˜ä¸‰å€‹å…ƒç´ 
- âœ… **å®Œæ•´æ€§**: è¨˜è¼‰è§’è‰²ã€ä½¿ç”¨å ´æ™¯ã€æ³¨æ„äº‹é …
- âœ… **èªè¨€è¦ç¯„**: éµå¾ªå„èªè¨€çš„å®˜æ–¹é¢¨æ ¼æŒ‡å—
- âœ… **ç•°å¸¸**: éŒ¯èª¤å’Œç•°å¸¸çš„èªªæ˜(å¦‚é©ç”¨)
- âœ… **æº–ç¢ºæ€§**: åˆ†æå¯¦ç¾ï¼Œä»…è¨˜è¼‰åŸºäºäº‹å¯¦çš„æè¿°

### æ³¨æ„äº‹é …

**ğŸ”´ ç»å°ç¦æ­¢äº‹é …**ï¼š

- âŒ æ›´æ”¹æ–‡æª”æ³¨é‡‹ä»¥å¤–çš„ä»£ç¢¼
- âŒ æ¨æ¸¬å¯¦ç¾ç»†èŠ‚(ä»…è¨˜è¼‰äº‹å¯¦)
- âŒ è¿åèªè¨€è¦ç¯„çš„æ ¼å¼
- âŒ åˆªé™¤æˆ–æ›´æ”¹ç¾æœ‰çš„é¡å‹æ³¨è§£
- âŒ èˆ‡ç¾æœ‰æ³¨é‡‹é‡å¾©
- âŒ ç‚ºæ¸¬è©¦æ–‡ä»¶æ·»åŠ ä¸ç¬¦åˆå­—ç¬¦æ•¸æ¨™æº–çš„æ³¨é‡‹

**åŸ·è¡Œå’Œé©—è­‰**ï¼š

```bash
# è¨˜éŒ„åŸ·è¡Œçµæœ
ADDED_COMMENTS=0
UPDATED_COMMENTS=0
ERRORS=0

# å¾ç¾æœ‰æ³¨é‡‹è‡ªå‹•åˆ¤å®šèªè¨€
# æª¢æ¸¬ä¸­æ–‡å­—ç¬¦å‰‡ç‚º zh-twï¼Œå¦å‰‡ç‚º en
DOC_LANGUAGE="en"  # é»˜èª
if grep -r '[ä¸€-é¾¥]' --include="*.py" --include="*.js" --include="*.ts" --include="*.dart" --include="*.go" --include="*.rs" . 2>/dev/null | head -n 1; then
  DOC_LANGUAGE="zh-tw"
fi

# è‡ªå‹•æª¢æ¸¬ç·¨ç¨‹èªè¨€ä¸¦åŸ·è¡Œéœæ…‹åˆ†æ
if [ -f "*.py" ]; then
  pylint --disable=all --enable=missing-docstring .
elif [ -f "*.js" ] || [ -f "*.ts" ]; then
  eslint . --rule 'jsdoc/require-jsdoc: error'
elif [ -f "*.go" ]; then
  golint ./...
elif [ -f "*.rs" ]; then
  cargo doc --no-deps
elif [ -f "*.dart" ]; then
  melos analyze
fi

if [ $? -ne 0 ]; then
  echo "ğŸ”´ éŒ¯èª¤ï¼šéœæ…‹åˆ†æå¤±è´¥"
  exit 1
fi

# è¼¸å‡ºåŸ·è¡Œæ‘˜è¦
echo "ğŸ“Š åŸ·è¡Œçµæœï¼š"
echo "- æ–‡æª”èªè¨€ï¼š$DOC_LANGUAGE"
echo "- æ·»åŠ çš„æ³¨é‡‹ï¼š$ADDED_COMMENTS æ¢"
echo "- æ›´æ–°çš„æ³¨é‡‹ï¼š$UPDATED_COMMENTS æ¢"
echo "- éŒ¯èª¤æ•¸ï¼š$ERRORS å€‹"
```

### åŸ·è¡ŒæˆåŠŸæ¨™æº–

1. **å®Œæˆåˆ¤å®š**: æ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¢ä»¶æ™‚æˆåŠŸ
   - èªè¨€ç‰¹å®šçš„éœæ…‹åˆ†æé¡¯ç¤º PASSED
   - éŒ¯èª¤æ•¸ç‚º 0
   - æ·»åŠ å’Œæ›´æ–°çš„æ³¨é‡‹éƒ½ç¬¦åˆæ¨™æº–

2. **éƒ¨åˆ†æˆåŠŸ**: ä»¥ä¸‹æƒ…å†µ
   - éŒ¯èª¤æ•¸å°‘äº 5 å€‹
   - 90% ä»¥ä¸Šç¬¦åˆæ¨™æº–

3. **å¤±è´¥**: ä»¥ä¸‹æƒ…å†µ
   - éœæ…‹åˆ†æé¡¯ç¤º FAILED
   - éŒ¯èª¤æ•¸ç‚º 5 å€‹æˆ–ä»¥ä¸Š

### èˆ‡ Claude é…åˆ

```bash
# åˆ†ææ•´å€‹é …ç›®(è‡ªå‹•åˆ¤å®šèªè¨€)
find . -type f \( -name "*.py" -o -name "*.js" -o -name "*.ts" \)
/update-doc-string
ã€ŒæŒ‰ç…§èªè¨€ç‰¹å®šçš„æœ€ä½³å¯¦è·µæ›´æ–°é€™å€‹é …ç›®çš„ docstringã€
# â†’ å¦‚æœç¾æœ‰æ³¨é‡‹ä¸­æœ‰ä¸­æ–‡å‰‡ç”¨ jaï¼Œå¦å‰‡ç”¨ en

# æ˜ç¢ºæŒ‡å®šè‹±æ–‡æ–‡æª”
/update-doc-string --lang en
"Update docstrings following language-specific best practices"

# æ˜ç¢ºæŒ‡å®šä¸­æ–‡æ–‡æª”
/update-doc-string --lang zh-tw
ã€ŒæŒ‰ç…§èªè¨€ç‰¹å®šçš„æœ€ä½³å¯¦è·µæ›´æ–°é€™å€‹é …ç›®çš„ docstringã€

# ä¸å¸¦æ¨™è¨˜åŸ·è¡Œ(è‡ªå‹•åˆ¤å®šèªè¨€)
/update-doc-string --marker false
"Improve existing docstrings without adding Claude markers"

# è‹±æ–‡æ–‡æª”ï¼Œä¸å¸¦æ¨™è¨˜
/update-doc-string --lang en --marker false
"Improve existing docstrings without adding Claude markers"
```
